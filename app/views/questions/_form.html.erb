<%= form_for @question do |q| %>
  <%= render "shared/validations" %>
  <%= q.label :title %>
  <%= q.text_field :title, :style => "margin: 0px 0px 10px; width: 650px;" %>
  <%= q.label :content %>
  <%= q.bootsy_area :content, :style => "margin: 0px 0px 10px; width: 650px; height: 282px;" %>
  <%= q.label :tags, "Category" %> 
  <%= q.select :category_id, options_from_collection_for_select(Category.all, :id, :title) %><br>
  <%= q.label :tags %>
  <%= q.hidden_field :tags %>
   <input type="text" id="tag">
    <i class="icon-plus-sign hand_sym" id="add_tag"></i><br>
    <span id="tags"></span><br/>
  <%= q.submit "Submit"%> 
<% end %>


<%= render "questions/question_side_bar" %>


<script>
  $('#tag').keyup(function(key){
    if(key.keyCode == 13){
        add_tag();
      }
  });
  
  $("#add_tag").click(function(){
        add_tag();
  });
  
 //prevent enter key form submittion 
  
  $("#tag").keydown(function(event){
    if(event.keyCode == 13) {
      event.preventDefault();
      return false;
    }
  });

  function add_tag(){
      $('#tags').append($('#tag').val().trim()+","+$('#tags').val());
      $('#question_tags').val($('#tags').text());
      $('#tag').val("");
  }
</script>




